
-- 1. إنشاء شركة تجريبية
INSERT INTO public.companies (id, name, currency, timezone)
VALUES 
    ('c1111111-1111-1111-1111-111111111111', 'شركة النخبة التجارية', 'SAR', 'Asia/Riyadh')
ON CONFLICT (id) DO NOTHING;

-- 2. إنشاء فروع
INSERT INTO public.branches (id, company_id, name)
VALUES 
    ('b1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', 'فرع الرياض (المركز الرئيسي)'),
    ('b2222222-2222-2222-2222-222222222222', 'c1111111-1111-1111-1111-111111111111', 'فرع جدة')
ON CONFLICT DO NOTHING;

-- 3. إنشاء حسابات نقدية (خزائن وبنوك)
INSERT INTO public.cash_accounts (id, company_id, branch_id, name, type)
VALUES 
    ('a1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', 'b1111111-1111-1111-1111-111111111111', 'الخزينة الرئيسية - الرياض', 'CASHBOX'),
    ('a2222222-2222-2222-2222-222222222222', 'c1111111-1111-1111-1111-111111111111', 'b1111111-1111-1111-1111-111111111111', 'بنك الراجحي (الرياض)', 'BANK'),
    ('a3333333-3333-3333-3333-333333333333', 'c1111111-1111-1111-1111-111111111111', 'b2222222-2222-2222-2222-222222222222', 'خزينة فرع جدة', 'CASHBOX')
ON CONFLICT DO NOTHING;

-- 4. إنشاء تصنيفات مالية (دخل ومصروف)
INSERT INTO public.categories (id, company_id, name, kind)
VALUES 
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'مبيعات نقدية', 'INCOME'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'تحصيلات عملاء', 'INCOME'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'تمويل إضافي', 'INCOME'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'رواتب وأجور', 'EXPENSE'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'إيجارات', 'EXPENSE'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'كهرباء ومياه', 'EXPENSE'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'مشتريات بضاعة', 'EXPENSE'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'ضيافة ونثريات', 'EXPENSE'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'تغذية عهدة موظف', 'EXPENSE'),
    (gen_random_uuid(), 'c1111111-1111-1111-1111-111111111111', 'صيانة وإصلاحات', 'EXPENSE')
ON CONFLICT DO NOTHING;

-- ملاحظة: بعد إنشاء المستخدمين في Supabase Auth يدوياً، استخدم الـ UUID الخاص بكل مستخدم هنا:
-- insert into public.user_roles(user_id, company_id, role) values ('USER_UUID', 'c1111111-1111-1111-1111-111111111111', 'OWNER');
